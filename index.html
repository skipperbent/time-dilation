<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Time dilation: the twin paradox</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
    </head>
    <body>
        <h1>Time dilation: the twin paradox</h1>
        
        <div class="js-result" style="display:none;margin-bottom:10px;">
            On Earth <span class="js-result-year"></span> year(s) has passed.
        </div>
        <p>
            You are going on a journey to outer space. In the meanwhile your twin stays on Earth.
        </p>
        <b>Choose transportation:</b><br/>
        <select name="velocity" class="js-velocity">
            <option value="0.26055555555556">Boeing 737 (0,26 km/s)</option>
            <option value="7.5">The International Space Station (ISS) (7,5 km/s)</option>
            <option value="16.38888888888889">New Horizons (16,4 km/s)</option>
            <option value="37.5">Comet 67 (37,5 km/s)</option>
            <option value="299492.665542">CERN's particle generator (99,9% of the speed of light)</option>
        </select>
        <br/>
        <b>How many year are you staying in space:</b><br/>
        <input type="text" name="year" class="js-year"/>
        <script>
            $(document).ready(function() {

                var calculateTimeDilation = function(velocity, year) {

                    var c = 299792.458; // speed of light
                    var time_i = year * 365 * 24 * 60 * 60; // years in seconds

                    return (time_i / (  Math.sqrt( 1 - (Math.pow(velocity, 2) / Math.pow(c, 2)) ) )) / (365 * 24 * 60 * 60);
                };

                var showTimeDilation = function() {
                    var velocity = parseFloat($('.js-velocity').val());
                    var year = parseInt($('.js-year').val());

                    if(velocity >= 0 && year > 0) {

                        var result = calculateTimeDilation(velocity, year);

                        $('.js-result-year').text( result );
                        $('.js-result').show();
                    } else {
                        $('.js-result').hide();
                    }
                };

                $('.js-year').live('keyup', function() {
                    showTimeDilation();
                });

                $('.js-velocity').live('change', function() {
                    showTimeDilation();
                });

            });
        </script>
    </body>
</html>
